service: lamda-serverless
frameworkVersion: '2'

provider:
  name: aws
  runtime: nodejs12.x
  lambdaHashingVersion: 20201221

functions:
  hello:
    handler: handler.hello
    events:
     - httpApi:
         path: /
         method: get
  imageResize:
    handler: handler.imageResize
    events:
     - httpApi:
         path: /imageResize
         method: get
  sendEmail:
    handler: handler.sendEmail
    events:
     - httpApi:
         path: /sendEmail
         method: get

plugins:
    - serverless-offline

custom:
  TableName: test-table

resources:
    Resources:
      MyDynamoDbTable:
        Type: AWS::DynamoDB::Table
        Properties:
          TableName: ${self:custom.TableName}
          AttributeDefinitions:
            - AttributeName: ID
              AttributeType: S
          KeySchema:
            - AttributeName: ID
              KeyType: HASH
          BillingMode: PAY_PER_REQUEST
          
